{% extends "base.html" %}

{% block title %}
		<title> 手动排课 - Ace 后台管理系统</title>
{% endblock %}

{% load staticfiles %}

{% block mystyles %}
	<link rel="stylesheet" href="{%static 'css/select2.min.css'%}" />
<style>
	.ccx-sortable {margin: 0px; padding: 0px;text-align:center}
	.ccx-zs {width: 300px;height: 30px;border: 1px solid #ccc;word-break:break-all}	
	.ccx-zz {width: 300px;height: 30px;border: 1px solid #ccc;word-break:break-all;background: #ededed}
</style>
{% endblock %}


{% block menu %}
	{% include 'menu.html' %}
{% endblock%}



{% block content %}
<h4 class="lighter"></h4>


<div class="widget-box">
	<div class="widget-header widget-header-blue widget-header-flat">
		<h4 class="widget-title lighter">这里是操作步骤的标题</h4>
	</div>

	<div class="widget-body">
		<div class="widget-main">
			<div id="fuelux-wizard-container">
				<div>
					<ul class="steps">
						<li data-step="1" class="active">
							<span class="step">1</span>
							<span class="title">第一步</span>
						</li>

						<li data-step="2">
							<span class="step">2</span>
							<span class="title">第二步</span>
						</li>

						<li data-step="3">
							<span class="step">3</span>
							<span class="title">第三步</span>
						</li>

						<li data-step="4">
							<span class="step">4</span>
							<span class="title">第四步</span>
						</li>

						<li data-step="5">
							<span class="step">5</span>
							<span class="title">第5步</span>
						</li>

						<li data-step="6">
							<span class="step">6</span>
							<span class="title">第6步</span>
						</li>

						<li data-step="7">
							<span class="step">7</span>
							<span class="title">第7步</span>
						</li>
					</ul>
				</div>

				<hr />

				<div class="step-content pos-rel">				
					<div class="step-pane active" data-step="1">			
						<div class="center col-lg-12">

							<form method="POST" action="{% url 'reorder:start' %}">
<button type="submit" value="true" class="btn btn-danger btn-xs" style="border: 2px solid #ddd;" 
	name='baselist'>
									<i class="ace-icon fa fa-share bigger-120"></i>
									<span style="font-size:10pt">重置总表</span>
								</button>
								<span class="col-md-offset-1"></span>
<button type="submit" value="true" class="btn btn-yellow btn-xs" style="border: 2px solid #ddd;" 
	name='create_pt_subject'>
									<i class="ace-icon fa fa-refresh bigger-120"></i>
									<span style="font-size:10pt">兼职-必排</span>
								</button>
							</form>
							<br>
						<!-- 
							===================================
							<span class="col-md-offset-1"></span>
							-----------------------------------
							{% load show %}
							-----------------------------------
							<script type="text/javascript">
							console.log()
							</script>
							===================================
						-->
						{% for cl in classnum_list %}
						<TABLE class="ccx-sortable">
							<TBODY>
								<TR>			
									<TD class="ccx-zz" rowspan="7" 
										style="width: 50px;padding-left:14px;">
										<div style="width: 20px;font-size:9pt ">
										<span>{{ cl.classnum }}班</span>
										</div>
									</TD>
								</TR>
								<TR>
									<TD class="ccx-zz" style="width: 60px;">星期</TD>
									<TD class="ccx-zz">第12节</TD>
									<TD class="ccx-zz">第34节</TD>
									<TD class="ccx-zz">第56节</TD>
								</TR>
								{% for sl in subject_list%}
									{% ifequal sl.classnum cl.classnum %}					
									<TR>			
										<TD class="ccx-zz" style="width: 60px;">{{ sl.week }}</TD>
										<TD class="ccx-zs">{{ sl.one }}</TD>
										<TD class="ccx-zs">{{ sl.two }}</TD>
										<TD class="ccx-zs">{{ sl.three }}</TD>
									</TR>
									{% endifequal %}
								{% endfor %}
							</TBODY>
						</TABLE>
						{% endfor %}
						<h3>　</h3>
						<!-- ================================== -->
						</div>
					</div>

					<div class="step-pane" data-step="2">
						<div class="center">
							<button class="btn btn-yellow btn-xs" style="border: 2px solid #ddd;">
								<i class="ace-icon fa fa-refresh bigger-120"></i>
								<span style="font-size:10pt">优先级</span>
							</button>
						</div>
					</div>

					<div class="step-pane" data-step="3">
						<div class="center">
							<button class="btn btn-primary btn-xs" style="border: 2px solid #ddd;">
								<i class="ace-icon fa fa-print bigger-120"></i>
								<span style="font-size:10pt">导出Excel</span>
							</button>
						</div>
					</div>

					<div class="step-pane" data-step="4">
						<div class="center">
							<button class="btn btn-purple btn-xs" style="border: 2px solid #ddd;">
								<i class="ace-icon fa fa-floppy-o bigger-120"></i>
								<span style="font-size:10pt">保存Json</span>
							</button>	
						</div>
					</div>

					<div class="step-pane" data-step="5">
						<div class="center">
							<h3 class="blue lighter">这是第5步</h3>
						</div>
					</div>

					<div class="step-pane" data-step="6">
						<div class="center">
							<h3 class="blue lighter">这是第6步</h3>
						</div>
					</div>

					<div class="step-pane" data-step="7">
						<div class="center">
							<h3 class="blue lighter">这是第7步</h3>
						</div>
					</div>
				</div>
			</div>

			<hr />
			<div class="wizard-actions center">
				<button class="btn btn-prev">
					<i class="ace-icon fa fa-arrow-left"></i>
					上一步
				</button>
				<span class="col-md-offset-2"></span>
				<button class="btn btn-success btn-next" data-last="完成">
					下一步
					<i class="ace-icon fa fa-arrow-right icon-on-right"></i>
				</button>
			</div>
		</div><!-- /.widget-main -->
	</div><!-- /.widget-body -->
</div>
{% endblock %}

{% block scripts %}
	{% include 'scripts.html' %}
	<script src="{% static 'js/wizard.min.js' %}"></script>
	<script src="{% static 'js/bootbox.js' %}"></script>
	<script src="{% static 'js/select2.min.js' %}"></script>
{% endblock%}

{% block myscripts %}
<script type="text/javascript">
	jQuery(function($) {
		var $validation = false;
		$('#fuelux-wizard-container')
		.ace_wizard({})
		.on('finished.fu.wizard', function(e) {
			bootbox.dialog({
				title: "温馨提示：",
				message: "<div class='center' style='height:30px;'><h4>谢谢!你的所有操作已经安全保存!</h4></div>", 
				buttons: {
					"success" : {
						"label" : "我知道了",
						"className" : "btn-sm btn-primary"
					}
				}
			});
		});
	})
</script>
{% endblock%}
